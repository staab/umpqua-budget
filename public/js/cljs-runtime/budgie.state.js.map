{"version":3,"file":"budgie.state.js","sources":["budgie/state.cljs"],"mappings":";;;;AAIA,2BAAA,2CAAA,0DAAA,KAAA,sDAAA,KAAA,uDAAA,vPAAKA;AAGL,8BAAA,2CAAA,kEAAA,KAAA,hJAAKC,sNAEYD;AAEjB,GAAA,QAAAE,mCAAAC,yCAAAC;AAAA;AAAA,AAAA,AAASC,qBAAM,AAACC,gDAAOL;;AACvB,GAAA,QAAAC,mCAAAC,yCAAAI;AAAA;AAAA,AAAA,AAASC,0BAAW,uCAAA,mFAAA,1HAACC,oBAASJ;;AAC9B,GAAA,QAAAH,mCAAAC,yCAAAO;AAAA;AAAA,AAAA,AAASC,4BAAa,uCAAA,mFAAA,1HAACF,oBAASJ;;AAEhC,gCAAA,hCAAMO;AAAN,AACE,IAAAC,qBAAW,4BAAA,5BAAUE;AAArB,AAAA,oBAAAF;AAAA,QAAAA,JAASC;AAAT,AACE,OAACE,sBAAOX,mBAAM,AAACY,sDAAYH;;AAD7B;;;AAGF,gCAAA,hCAAMI;AAAN,AACE,mCAAA,5BAAUH,qCAA6B,yGAAA,AAAAI,zGAACC,yHAASf","names":["budgie.state/async-state","budgie.state/starting-state","js/budgie","js/budgie.state","js/budgie.state.state","budgie.state/state","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","js/budgie.state.session-id","budgie.state/session-id","reagent.core/cursor","js/budgie.state.transactions","budgie.state/transactions","budgie.state/load-state!","temp__5455__auto__","v","window/localStorage","cljs.core/reset!","cljs.reader.read_string.cljs$core$IFn$_invoke$arity$1","budgie.state/save-state!","cljs.core/deref","cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic"],"sourcesContent":["(ns budgie.state\n  (:require [cljs.reader :refer [read-string]]\n            [reagent.core :as r]))\n\n(def async-state\n  {:loaded nil :value nil :error nil})\n\n(def starting-state\n  {:session-id nil\n   :transactions async-state})\n\n(defonce state (r/atom starting-state))\n(defonce session-id (r/cursor state [:session-id]))\n(defonce transactions (r/cursor state [:transactions]))\n\n(defn load-state! []\n  (if-let [v (.getItem window.localStorage \"budgie\")]\n    (reset! state (read-string v))))\n\n(defn save-state! []\n  (.setItem window.localStorage \"budgie\" (prn-str @state)))\n"]}