{"version":3,"sources":["wedge/client/components.cljs"],"mappings":"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","names":["wedge.client.components/nbsp","wedge.client.components/now","js/Date","wedge.client.components/pct","n","d","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","wedge.client.components/polar->cartesian","cx","cy","r","deg","rad","js/Math.PI","js/Math","wedge.client.components/describe-arc","x","y","start","end","map__26311","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","map__26312","start-x","start-y","end-x","end-y","large-arc-flag","m","clojure.string.join.cljs$core$IFn$_invoke$arity$2","a","wedge.client.components/dashboard-circle","stroke","wedge.client.components/dashboard-budget","title","total","budgeted","wedge.client.components/dashboard-budget-empty","wedge.client.components/dashboard-loading","p__26315","map__26316","wedge.client.components/dashboard-value","balance","wedge.client.actions/initialize!","wedge.client.components/dashboard","map__26318","cljs.core/deref","last-load","value","wedge.client.state/db","or__4131__auto__","cljs.core/not","wedge.client.components/add-button","wedge.client.components/sidebar","wedge.client.components/header","wedge.client.actions/toggle-sidebar!","wedge.client.state/page","cljs.core/name","camel-snake-kebab.core/->Camel_Snake_Case","clojure.string/replace","wedge.client.actions/toggle-picker!","wedge.client.components/footer","wedge.client.components/app","wedge.client.components/login-page","wedge.client.actions/link-account!","wedge.client.components/root","wedge.client.state/session-id"],"sourcesContent":["(ns wedge.client.components\n  (:require [clojure.string :as s]\n            [camel-snake-kebab.core :refer [->Camel_Snake_Case]]\n            [wedge.client.state :refer [session-id db page]]\n            [wedge.client.actions :as actions]))\n\n;; Utils\n\n(def nbsp {:dangerouslySetInnerHTML {:__html \"&nbsp;\"}})\n\n(defn now [] (.valueOf (js/Date.)))\n\n(defn pct [n d] (if (= 0 d) 0 (* 100 (/ n d))))\n\n(defn polar->cartesian [cx cy r deg]\n  (let [rad (/ (* (- deg 90) js/Math.PI) 180.0)]\n    {:x (+ cx (* r (.cos js/Math rad)))\n     :y (+ cy (* r (.sin js/Math rad)))}))\n\n(defn describe-arc [x y r start end]\n  (let [{start-x :x start-y :y} (polar->cartesian x y r end)\n        {end-x :x end-y :y} (polar->cartesian x y r start)\n        large-arc-flag (if (<= (- end start) 180.0) 0 1)\n        m (s/join \" \" [\"M\" start-x start-y])\n        a (s/join \" \" [\"A\" r r 0 large-arc-flag 0 end-x end-y])]\n    (str m \" \" a)))\n\n;; Dashboard\n\n(defn dashboard-circle [stroke]\n  [:svg\n    [:path {:fill :none\n            :stroke stroke\n            :stroke-width 20\n            :d (describe-arc 50 50 100 0 180)}]])\n\n(defn dashboard-budget [title total budgeted]\n  [:div.dashboard-budget\n   [:h3 title]\n   [:div.dashboard-budget-bar]\n   [:div.dashboard-budget-settings]\n   [:h4 (str total \"/\" budgeted \" - \" (pct total budgeted) \"%\")]])\n\n(defn dashboard-budget-empty []\n  [:div.dashboard-budget\n   [:h3 nbsp]\n   [:div.dashboard-budget-bar]\n   [:div.dashboard-budget-settings]\n   [:h4 nbsp]])\n\n(defn dashboard-loading []\n  [:div.dashboard-loading\n   [:div.sub-header {:dangerouslySetInnerHTML {:__html \"&nbsp;\"}}]\n   [dashboard-circle \"#EDF5FF\"]\n   [dashboard-budget-empty]\n   [dashboard-budget-empty]\n   [dashboard-budget-empty]])\n\n(defn dashboard-value [{:keys [balance]}]\n  [:div\n   [:div.sub-header\n    [:i.fa.fa-info-circle]\n    [:p (str \"Your account has $\" (.toFixed balance 2) \" in it\")]]\n    [dashboard-circle \"#EDF5FF\"]\n    [:button {:on-click actions/initialize!} \"reload\"]])\n\n(defn dashboard []\n  (let [{:keys [last-load value]} @db]\n    (when-not value (actions/initialize!))\n    [:div.page.dashboard\n     (if (or last-load (not value))\n       [dashboard-loading]\n       [dashboard-value value])]))\n\n(defn add-button []\n  [:div.add-button\n    \"add-button\"])\n\n(defn sidebar []\n  [:div.sidebar\n   \"sidebar\"])\n\n(defn header []\n  [:div.header\n   [:i.fa.fa-menu {:on-click actions/toggle-sidebar!}]\n   (-> @page name ->Camel_Snake_Case (s/replace #\"_\" \" \"))\n   [:i.fa.fa-calendar {:on-click actions/toggle-picker!}]])\n\n(defn footer []\n  [:div.footer\n    \"footer\"])\n\n(defn app []\n  [:div\n   [dashboard]\n   [footer]\n   [add-button]\n   [sidebar]\n   [header]])\n\n(defn login-page []\n  [:button {:on-click actions/link-account!}\n    \"link account\"])\n\n(defn root []\n  [:div (if @session-id [app] [login-page])])\n"]}