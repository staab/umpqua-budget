{"version":3,"sources":["wedge/client/state.cljs"],"mappings":";;;;AAIA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA,AACG,AAAU,AAAAC;AAOlB,AAAA,AAAAC,AAAAC,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAASC,AAAM,AAACC,AAAOP;;AACvB,AAAA,AAAAE,AAAAC,AAAAC,AAAAI;AAAA;AAAA,AAAA,AAASC,AAAI,AAAA,AAAA,AAACC,AAASJ;;AACvB,AAAA,AAAAJ,AAAAC,AAAAC,AAAAO;AAAA;AAAA,AAAA,AAASC,AAAW,AAAA,AAAA,AAACF,AAASJ;;AAC9B,AAAA,AAAAJ,AAAAC,AAAAC,AAAAS;AAAA;AAAA,AAAA,AAASC,AAAG,AAAA,AAAA,AAACJ,AAASJ;;AACtB,AAAA,AAAAJ,AAAAC,AAAAC,AAAAW;AAAA;AAAA,AAAA,AAASC,AAAK,AAAA,AAAA,AAACN,AAASJ;;AACxB,AAAA,AAAAJ,AAAAC,AAAAC,AAAAa;AAAA;AAAA,AAAA,AAASC,AAAQ,AAAA,AAAA,AAACR,AAASJ;;AAC3B,AAAA,AAAAJ,AAAAC,AAAAC,AAAAe;AAAA;AAAA,AAAA,AAASC,AAAO,AAAA,AAAA,AAACV,AAASJ;;AAE1B,AAAA,AAAMe;AAAN,AACE,AAAA,AAACC,AAAMhB,AAAMiB,AAAW,AAAU,AAAAtB;;AAClC,AAACuB,AAAyBH;;AAE5B,AAAA,AAAMI;AAAN,AACE,AAAAC,AAAW,AAAA,AAAUE;AAArB,AAAA,AAAAF;AAAA,AAAAA,AAASC;AAAT,AACE,AAACE,AAAOvB,AAAM,AAACwB,AAAYH;;AAD7B;;AAEA,AAACN;;AAEH,AAAA,AAAMU;AAAN,AACE,AAAA,AAAUH,AAAwB,AAAA,AAAAI,AAACC,AAAS3B","names":["wedge.client.state/starting-state","js/Date","js/wedge","js/wedge.client","js/wedge.client.state","js/wedge.client.state.state","wedge.client.state/state","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","js/wedge.client.state.now","wedge.client.state/now","reagent.core/cursor","js/wedge.client.state.session-id","wedge.client.state/session-id","js/wedge.client.state.db","wedge.client.state/db","js/wedge.client.state.page","wedge.client.state/page","js/wedge.client.state.sidebar","wedge.client.state/sidebar","js/wedge.client.state.picker","wedge.client.state/picker","wedge.client.state/reload-now","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4","cljs.core/assoc","js/requestAnimationFrame","wedge.client.state/load-state!","temp__5718__auto__","v","js/localStorage","cljs.core/reset!","cljs.reader.read_string.cljs$core$IFn$_invoke$arity$1","wedge.client.state/save-state!","cljs.core/deref","cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic"],"sourcesContent":["(ns wedge.client.state\n  (:require [cljs.reader :refer [read-string]]\n            [reagent.core :as r]))\n\n(def starting-state\n  {:now (.valueOf (js/Date.))\n   :session-id nil\n   :page :dashboard\n   :sidebar {:open? false}\n   :picker {:open? false}\n   :db {:last-load nil :value nil :error nil}})\n\n(defonce state (r/atom starting-state))\n(defonce now (r/cursor state [:now]))\n(defonce session-id (r/cursor state [:session-id]))\n(defonce db (r/cursor state [:db]))\n(defonce page (r/cursor state [:page]))\n(defonce sidebar (r/cursor state [:sidebar]))\n(defonce picker (r/cursor state [:picker]))\n\n(defn reload-now []\n  (swap! state assoc :now (.valueOf (js/Date.)))\n  (js/requestAnimationFrame reload-now))\n\n(defn load-state! []\n  (if-let [v (.getItem js/localStorage \"wedge\")]\n    (reset! state (read-string v)))\n  (reload-now))\n\n(defn save-state! []\n  (.setItem js/localStorage \"wedge\" (prn-str @state)))\n\n"]}